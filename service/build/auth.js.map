{"version":3,"file":"auth.js","names":["config","require","Auth","constructor","console","log","appId","authAccount","accesstoken","authenticationClient","AuthenticationClient","appSecret","appHost","redirectUri","protocol","token","split","result","introspectToken"],"sources":["../src/auth.js"],"sourcesContent":["import { AuthenticationClient } from \"authing-node-sdk\";\r\nconst config=require('./config/index');\r\n\r\nexport class Auth {\r\n  constructor() {\r\n  \r\n    console.log(config.appId);\r\n  }\r\n\r\n  async authAccount(accesstoken) {\r\n    let authenticationClient = new AuthenticationClient({\r\n      appId: config.appId,\r\n      appSecret: config.appSecret,\r\n      appHost: config.appHost,\r\n      redirectUri: config.redirectUri,\r\n      protocol: \"oidc\",\r\n    });\r\n    var token = accesstoken.split(\" \")[1];\r\n    console.log(token);\r\n    if (token!=null) {\r\n      var result = await authenticationClient.introspectToken(token);\r\n      return result;\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n}\r\n"],"mappings":";;;;;;;AAAA;AACA,MAAMA,MAAM,GAACC,OAAO,CAAC,gBAAgB,CAAC;AAE/B,MAAMC,IAAI,CAAC;EAChBC,WAAW,GAAG;IAEZC,OAAO,CAACC,GAAG,CAACL,MAAM,CAACM,KAAK,CAAC;EAC3B;EAEA,MAAMC,WAAW,CAACC,WAAW,EAAE;IAC7B,IAAIC,oBAAoB,GAAG,IAAIC,oCAAoB,CAAC;MAClDJ,KAAK,EAAEN,MAAM,CAACM,KAAK;MACnBK,SAAS,EAAEX,MAAM,CAACW,SAAS;MAC3BC,OAAO,EAAEZ,MAAM,CAACY,OAAO;MACvBC,WAAW,EAAEb,MAAM,CAACa,WAAW;MAC/BC,QAAQ,EAAE;IACZ,CAAC,CAAC;IACF,IAAIC,KAAK,GAAGP,WAAW,CAACQ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrCZ,OAAO,CAACC,GAAG,CAACU,KAAK,CAAC;IAClB,IAAIA,KAAK,IAAE,IAAI,EAAE;MACf,IAAIE,MAAM,GAAG,MAAMR,oBAAoB,CAACS,eAAe,CAACH,KAAK,CAAC;MAC9D,OAAOE,MAAM;IACf,CAAC,MAAM;MACL,OAAO,EAAE;IACX;EACF;AACF;AAAC"}